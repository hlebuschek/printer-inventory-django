# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

## TL;DR - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

```bash
# 1. –ü–æ–¥–≥–æ—Ç–æ–≤—å Excel/CSV —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: IP –∞–¥—Ä–µ—Å, –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, SNMP Community
# –°–º. –ø—Ä–∏–º–µ—Ä: docs/printer_import_example.csv

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ (–±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è)
python manage.py import_printers_xlsx printers.xlsx --dry-run --auto-create-org --show-details

# 3. –†–µ–∞–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç
python manage.py import_printers_xlsx printers.xlsx --auto-create-org

# 4. –ó–∞–ø—É—Å—Ç–∏ –æ–ø—Ä–æ—Å –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ (—á–µ—Ä–µ–∑ web UI)

# 5. –ü—Ä–æ—Å—Ç–∞–≤—å –º–æ–¥–µ–ª–∏ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
python manage.py migrate_models_to_devicemodel

# 6. –ß–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞: –¥–æ–±–∞–≤—å –≤ contracts –∏ —Å–≤—è–∂–∏
python manage.py contracts_import_xlsx –¥–æ–≥–æ–≤–æ—Ä.xlsx
python manage.py link_devices_by_serial
```

---

## –û—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã

### ‚ùì –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å—Ç–∞–≤–∞—Ç—å –º–æ–¥–µ–ª—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å

**–û—Ç–≤–µ—Ç:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –¢–∞–∫ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å.

**–ü–æ—á–µ–º—É:**
1. –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –ø–æ–ª–µ `Printer.device_model` –æ—Å—Ç–∞–µ—Ç—Å—è –ø—É—Å—Ç—ã–º (nullable)
2. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º SNMP –æ–ø—Ä–æ—Å–µ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ `Printer.model` (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Ricoh MP C2004")
3. –ü–æ—Ç–æ–º –∫–æ–º–∞–Ω–¥–∞ `migrate_models_to_devicemodel` –Ω–∞–π–¥–µ—Ç —ç—Ç—É –º–æ–¥–µ–ª—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ `DeviceModel` –∏ –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç FK

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ú–æ–¥–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∂–µ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ `contracts.DeviceModel`
- –ï—Å–ª–∏ –º–æ–¥–µ–ª–∏ –Ω–µ—Ç ‚Üí –¥–æ–±–∞–≤—å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É –∏–ª–∏ shell:
  ```python
  from contracts.models import Manufacturer, DeviceModel

  ricoh = Manufacturer.objects.get_or_create(name="Ricoh")[0]
  DeviceModel.objects.create(
      manufacturer=ricoh,
      name="MP C2004",
      device_type="printer",
      has_network_port=True
  )
  ```

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π:**
```bash
python manage.py migrate_models_to_devicemodel --dry-run  # –ø—Ä–æ–≤–µ—Ä–∫–∞
python manage.py migrate_models_to_devicemodel            # –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
```

---

### ‚ùì –ü—Ä–æ–±–ª–µ–º–∞ 2: –ë–æ—é—Å—å —á—Ç–æ —Å—Ä–µ–¥–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –æ–∫–∞–∂—É—Ç—Å—è –ø—Ä–æ—à–∏—Ç—ã–µ –º–æ–¥–µ–ª–∏, —Å–µ—Ä–∏–π–Ω–∏–∫ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–≤–ø–∞–¥–µ—Ç

**–û—Ç–≤–µ—Ç:** –ù–µ –ø—Ä–æ–±–ª–µ–º–∞, —Ç–∞–∫ –∫–∞–∫ —É —Ç–µ–±—è MAC –∏ IP —Ç–æ—á–Ω–æ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!

**–ü–æ—á–µ–º—É —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞:**
- `Printer.serial_number` - **–ù–ï unique** (–º–æ–∂–Ω–æ –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ —Å –æ–¥–Ω–∏–º —Å–µ—Ä–∏–π–Ω–∏–∫–æ–º)
- `Printer.mac_address` - unique, –Ω–æ —É —Ç–µ–±—è —Ä–∞–∑–Ω—ã–µ MAC
- `Printer.ip_address` - unique, –Ω–æ —É —Ç–µ–±—è —Ä–∞–∑–Ω—ã–µ IP
- `ContractDevice.serial_number` - unique —Ç–æ–ª—å–∫–æ **–≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏**

**–ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫:**
- –ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –¥–æ–±–∞–≤–∏—à—å –ø—Ä–∏–Ω—Ç–µ—Ä —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º IP ‚Üí –∫–æ–º–∞–Ω–¥–∞ `import_printers_xlsx` –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É
- –ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –¥–æ–±–∞–≤–∏—à—å –ø—Ä–∏–Ω—Ç–µ—Ä —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º MAC ‚Üí –∫–æ–º–∞–Ω–¥–∞ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É
- –î–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ —Ç–∞–∫–∏—Ö —Å—Ç—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π `--skip-collisions`

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
–ö–æ–º–∞–Ω–¥–∞ `import_printers_xlsx` **–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–ª–ª–∏–∑–∏–∏ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º**:
```bash
python manage.py import_printers_xlsx printers.xlsx --dry-run
# –ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –∫–æ–ª–ª–∏–∑–∏–∏ –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î
```

---

## –ü–æ–ª–Ω—ã–π workflow

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤—å Excel —Ñ–∞–π–ª

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
```csv
IP –∞–¥—Ä–µ—Å,–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
192.168.1.100,–ù–æ–≤–∞—è –æ—Ä–≥
192.168.1.101,–ù–æ–≤–∞—è –æ—Ä–≥
```

–ü–æ–ª–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
```csv
IP –∞–¥—Ä–µ—Å,–°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä,MAC –∞–¥—Ä–µ—Å,SNMP Community,–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è,–ú–µ—Ç–æ–¥ –æ–ø—Ä–æ—Å–∞
192.168.1.100,ABC123,AA:BB:CC:DD:EE:FF,public,–ù–æ–≤–∞—è –æ—Ä–≥,SNMP
192.168.1.101,,,public,–ù–æ–≤–∞—è –æ—Ä–≥,SNMP
192.168.1.102,XYZ456,11:22:33:44:55:66,custom123,–ù–æ–≤–∞—è –æ—Ä–≥,WEB
```

**–ü—Ä–∏–º–µ—Ä:** `docs/printer_import_example.csv`

### 2. –ü—Ä–æ–≤–µ—Ä—å –∏–º–ø–æ—Ä—Ç (dry-run)

```bash
python manage.py import_printers_xlsx printers.xlsx \
  --dry-run \
  --auto-create-org \
  --show-details
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- ‚úÖ –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å IP –∞–¥—Ä–µ—Å–æ–≤
- ‚úÖ –ö–æ–ª–ª–∏–∑–∏–∏ IP/MAC —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏
- ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- ‚úÖ –î—É–±–ª–∏–∫–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞

**–í—ã–≤–æ–¥:**
```
=== –ò–º–ø–æ—Ä—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏–∑ Excel ===
–ù–∞–π–¥–µ–Ω—ã —Å—Ç–æ–ª–±—Ü—ã: IP –∞–¥—Ä–µ—Å (–∫–æ–ª–æ–Ω–∫–∞ 1), –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (–∫–æ–ª–æ–Ω–∫–∞ 5)

  OK (—Å—Ç—Ä–æ–∫–∞ 2): 192.168.1.100 [–ù–æ–≤–∞—è –æ—Ä–≥] | SN:–ø—É—Å—Ç–æ | MAC:–ø—É—Å—Ç–æ | SNMP
  OK (—Å—Ç—Ä–æ–∫–∞ 3): 192.168.1.101 [–ù–æ–≤–∞—è –æ—Ä–≥] | SN:–ø—É—Å—Ç–æ | MAC:–ø—É—Å—Ç–æ | SNMP
  IP_COLLISION (—Å—Ç—Ä–æ–∫–∞ 4): 192.168.1.100 —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

==================================================
–ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
  –í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 3
  –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ: 2
  –ö–æ–ª–ª–∏–∑–∏–∏ IP –∞–¥—Ä–µ—Å–æ–≤: 1
```

### 3. –†–µ–∞–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç

–ï—Å–ª–∏ –≤—Å—ë –æ–∫:
```bash
python manage.py import_printers_xlsx printers.xlsx --auto-create-org
```

–ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏ (–∏ —Ö–æ—á–µ—à—å –∏—Ö –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å):
```bash
python manage.py import_printers_xlsx printers.xlsx --auto-create-org --skip-collisions
```

### 4. –ó–∞–ø—É—Å—Ç–∏ –æ–ø—Ä–æ—Å

–ß–µ—Ä–µ–∑ web UI:
- –ü–µ—Ä–µ–π–¥–∏ –≤ `/inventory/`
- –í—ã–±–µ—Ä–∏ –ø—Ä–∏–Ω—Ç–µ—Ä—ã –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ù–∞–∂–º–∏ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ä–æ—Å"

–ò–ª–∏ —á–µ—Ä–µ–∑ API/Celery:
```python
from inventory.tasks import run_inventory_task_priority

# –û–ø—Ä–æ—Å –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
run_inventory_task_priority.delay(printer_id=123)

# –ú–∞—Å—Å–æ–≤—ã–π –æ–ø—Ä–æ—Å
for printer_id in [123, 124, 125, ...]:
    run_inventory_task_priority.delay(printer_id)
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
- –ë—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã —Å–µ—Ä–∏–π–Ω—ã–µ –Ω–æ–º–µ—Ä–∞
- –ë—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã MAC –∞–¥—Ä–µ—Å–∞ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã)
- –ë—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π (Printer.model)
- –ë—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã —Å—á–µ—Ç—á–∏–∫–∏

### 5. –ü—Ä–æ—Å—Ç–∞–≤—å –º–æ–¥–µ–ª–∏ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, –∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞–π–¥—É—Ç—Å—è
python manage.py migrate_models_to_devicemodel --dry-run

# –†–µ–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
python manage.py migrate_models_to_devicemodel
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –≤ DeviceModel
üìä –ù–∞–π–¥–µ–Ω–æ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏: 50

‚úÖ 192.168.1.100 | SN:ABC123
   –¢–µ–∫—Å—Ç: 'MP C2004'
   –°—Ç–∞–ª–æ: Ricoh MP C2004

‚úÖ 192.168.1.101 | SN:XYZ456
   –¢–µ–∫—Å—Ç: 'TASKalfa 3252ci'
   –°—Ç–∞–ª–æ: Kyocera TASKalfa 3252ci

‚ö†Ô∏è  –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: 'Unknown Model' (IP: 192.168.1.102)

üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
  –û–±–Ω–æ–≤–ª–µ–Ω–æ: 48
  –ù–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ: 2
```

**–ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:**
```bash
python manage.py shell
```
```python
from contracts.models import Manufacturer, DeviceModel

# –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
mfr = Manufacturer.objects.get_or_create(name="HP")[0]

# –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å
DeviceModel.objects.create(
    manufacturer=mfr,
    name="LaserJet Pro M404dn",
    device_type="printer",
    has_network_port=True
)
```

–ó–∞—Ç–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç—å:
```bash
python manage.py migrate_models_to_devicemodel
```

### 6. (–ß–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞) –î–æ–±–∞–≤—å –≤ contracts

–ö–æ–≥–¥–∞ –¥–æ–≥–æ–≤–æ—Ä –∑–∞–∫–ª—é—á–µ–Ω:

```bash
# –ò–º–ø–æ—Ä—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ contracts
python manage.py contracts_import_xlsx –¥–æ–≥–æ–≤–æ—Ä.xlsx

# –°–≤—è–∑—ã–≤–∞–Ω–∏–µ ContractDevice ‚Üî Printer –ø–æ —Å–µ—Ä–∏–π–Ω–∏–∫–∞–º
python manage.py link_devices_by_serial --dry-run
python manage.py link_devices_by_serial
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ß–µ—Ä–µ–∑ shell

```bash
python manage.py shell
```

```python
from inventory.models import Printer, Organization

# –ù–∞–π—Ç–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
org = Organization.objects.get(name="–ù–æ–≤–∞—è –æ—Ä–≥")

# –ü–æ—Å—á–∏—Ç–∞—Ç—å –ø—Ä–∏–Ω—Ç–µ—Ä—ã
printers = Printer.objects.filter(organization=org)
print(f"–í—Å–µ–≥–æ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤: {printers.count()}")

# –° –º–æ–¥–µ–ª—å—é –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
with_model = printers.filter(device_model__isnull=False).count()
print(f"–° –º–æ–¥–µ–ª—å—é: {with_model}")

# –° —Å–µ—Ä–∏–π–Ω–∏–∫–æ–º
with_sn = printers.exclude(serial_number="").count()
print(f"–° —Å–µ—Ä–∏–π–Ω–∏–∫–æ–º: {with_sn}")

# –° MAC –∞–¥—Ä–µ—Å–æ–º
with_mac = printers.exclude(mac_address__isnull=True).count()
print(f"–° MAC: {with_mac}")

# –ü–æ—Å–ª–µ–¥–Ω–∏–π –æ–ø—Ä–æ—Å
from inventory.models import InventoryTask
last_tasks = InventoryTask.objects.filter(
    printer__organization=org,
    status='SUCCESS'
).order_by('-task_timestamp')[:10]

for task in last_tasks:
    print(f"{task.printer.ip_address} - {task.task_timestamp}")
```

### –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É

1. `/admin/inventory/printer/`
2. –§–∏–ª—å—Ç—Ä –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ "–ù–æ–≤–∞—è –æ—Ä–≥"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –ø—Ä–∏–Ω—Ç–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —É –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –º–æ–¥–µ–ª–∏ –ø–æ—Å–ª–µ –æ–ø—Ä–æ—Å–∞

---

## FAQ

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ IP –∞–¥—Ä–µ—Å–∞?

–î–∞! –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Excel:
```csv
IP –∞–¥—Ä–µ—Å
192.168.1.100
192.168.1.101
```

–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è:
- `serial_number` - –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ –æ–ø—Ä–æ—Å–µ
- `mac_address` - –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ –æ–ø—Ä–æ—Å–µ
- `snmp_community` - –±—É–¥–µ—Ç "public" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `organization` - –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ –≤—Ä—É—á–Ω—É—é
- `polling_method` - –±—É–¥–µ—Ç "SNMP" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≤–µ–±-–ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –±–µ–∑ SNMP?

1. –í Excel —É–∫–∞–∂–∏ `–ú–µ—Ç–æ–¥ –æ–ø—Ä–æ—Å–∞ = WEB`
2. –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –¥–æ–±–∞–≤—å –ø—Ä–∞–≤–∏–ª–∞ –≤–µ–±-–ø–∞—Ä—Å–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ UI: `/inventory/web-parser/`

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ?

–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É**
1. `/admin/contracts/devicemodel/add/`
2. –í—ã–±–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è (–∏–ª–∏ —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π)
3. –£–∫–∞–∂–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ SNMP (–Ω–∞–ø—Ä–∏–º–µ—Ä, "MP C2004")
4. –°–æ—Ö—Ä–∞–Ω–∏
5. –ü–æ–≤—Ç–æ—Ä–∏ `migrate_models_to_devicemodel`

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ shell**
```python
from contracts.models import Manufacturer, DeviceModel

ricoh = Manufacturer.objects.get_or_create(name="Ricoh")[0]
DeviceModel.objects.create(
    manufacturer=ricoh,
    name="MP C2004",
    device_type="printer",
    has_network_port=True
)
```

### Q: –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏ –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º?

```bash
python manage.py import_printers_xlsx printers.xlsx --dry-run --show-details
```

–ö–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î:
- IP –∫–æ–ª–ª–∏–∑–∏–∏
- MAC –∫–æ–ª–ª–∏–∑–∏–∏
- –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ IP

---

## –†–µ–∑—é–º–µ

**–¢–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã - —Ä–µ—à–µ–Ω—ã:**

1. ‚úÖ **–ú–æ–¥–µ–ª—å –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –û–Ω–∞ –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ `migrate_models_to_devicemodel`

2. ‚úÖ **–ü—Ä–æ—à–∏—Ç—ã–µ –º–æ–¥–µ–ª–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Å–µ—Ä–∏–π–Ω–∏–∫–æ–º** - –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞! –£ —Ç–µ–±—è —Ä–∞–∑–Ω—ã–µ MAC/IP, –∞ —Å–µ—Ä–∏–π–Ω–∏–∫ –≤ `Printer` –Ω–µ —É–Ω–∏–∫–∞–ª–µ–Ω

**–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏–º–ø–æ—Ä—Ç:**
- –ö–æ–º–∞–Ω–¥–∞ `import_printers_xlsx` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–ª–ª–∏–∑–∏–∏ IP/MAC
- `--dry-run` –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `--skip-collisions` –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏

**Workflow:**
1. Excel ‚Üí `import_printers_xlsx` ‚Üí –ø—Ä–∏–Ω—Ç–µ—Ä—ã –≤ –ë–î
2. –û–ø—Ä–æ—Å ‚Üí —Å–µ—Ä–∏–π–Ω–∏–∫–∏, MAC, –º–æ–¥–µ–ª–∏
3. `migrate_models_to_devicemodel` ‚Üí FK –∫ DeviceModel
4. –ß–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞ ‚Üí contracts ‚Üí `link_devices_by_serial`

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
