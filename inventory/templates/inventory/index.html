{% extends "base.html" %}
{% load static vite_tags %}

{% block title %}Список принтеров - Printer Inventory{% endblock %}

{% block content %}
<!-- Vue.js App Container -->
<div
  id="printer-list-page"
  data-user-id="{{ user.id }}"
  data-permissions='{{ permissions_json|safe }}'
  data-initial-data='{{ initial_data_json|safe }}'
></div>
{% endblock %}

{% block scripts %}
{{ block.super }}

<!-- Подключаем Vue.js бандл -->
<link rel="stylesheet" href="{% vite_css 'frontend/src/main.js' %}">
<script type="module" src="{% vite_asset 'frontend/src/main.js' %}"></script>

<script>
  console.log('Vue.js Printer List page loaded');
  const mountPoint = document.getElementById('printer-list-page');
  console.log('Mount point:', mountPoint);
  if (mountPoint && mountPoint.dataset.permissions) {
    console.log('Permissions:', JSON.parse(mountPoint.dataset.permissions));
  }
</script>
{% endblock %}
